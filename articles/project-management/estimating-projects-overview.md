---
title: 財務見積もりの概念
description: このトピックは、Project Operations におけるプロジェクトの財務見積もりに関する情報を提供します。
author: rumant
ms.date: 03/22/2021
ms.topic: article
ms.reviewer: kfend
ms.author: rumant
ms.custom: intro-internal
ms.openlocfilehash: 74b2499cc706e03658cadeb088df154100051cbc7cce386b2e4d50dbdb5c197f
ms.sourcegitcommit: 7f8d1e7a16af769adb43d1877c28fdce53975db8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/06/2021
ms.locfileid: "6989197"
---
# <a name="financial-estimation-concepts"></a>財務見積もりの概念

_**適用対象 :** リソース/非在庫ベースのシナリオに使用するプロジェクト オペレーション、見積請求に対応する小規模のデプロイ_

Dynamics 365 Project Operations では、2 段階でプロジェクトを財務的に見積もることができます。 
1. 取引が成立する前のプリセールス段階。 
2. プロジェクト契約が作成された後の実行段階中。 

次の 3 ページのいずれかを使用して、プロジェクトベースの作業の財務見積もりを作成できます。
- **見積もり行** ページで、見積依頼明細行の詳細を使用します。  
- **プロジェクト契約業** ページで、契約行の詳細を使用します。 
- **プロジェクト** ページで、**タスク** または **経費の見積もり** タブ ページを使用します。

## <a name="use-a-project-quote-to-create-an-estimate"></a>プロジェクト見積もりを使用して見積もりを作成する
プロジェクト ベースの見積りでは、**見積明細詳細** エンティティを使用して、プロジェクトの遂行に必要となる作業を見積もることができます。 その後で、その見積を顧客と共有できます。

プロジェクト ベースの見積明細行には、0 から多くの見積明細行の詳細を指定できます。 見積明細詳細は、時間、費用または手数料の見積に使用されます。 Microsoft Dynamics 365 Project Operations では、見積もり明細行の詳細で原料見積もりができません。 これらはトランザクション クラスと呼ばれます。 見積税額はトランザクション クラスにも入力できます。

トランザクション クラスに加えて、見積明細行の詳細にはトランザクション タイプがあります。 見積明細詳細は、次の 2 つのトランザクション タイプに対応しています : **コスト** および **プロジェクト契約** です。

## <a name="use-a-project-contract-to-create-an-estimate"></a>プロジェクト契約を使用して見積もりを作成する

プロジェクトベースの契約を作成する際に見積もりを使用した場合は、見積もりの各見積明細に対して行った見積がプロジェクト契約にコピーされます。 プロジェクト契約の構造は、明細、明細詳細および請求書予定があるプロジェクト見積もりの構造と共通しています。

見積もりは、プロジェクト見積もりの場合と同様に、プロジェクト契約で直接実行することができます。 プロジェクト見積もりの場合、見積もりは契約明細と契約明細詳細を使用して行われます。 契約明細行の詳細は、ボトムアップの見積アプローチを使用して作成されたプロジェクト計画からの生成もできます。

契約明細行の詳細は、時間、経費、または手数料の見積に使用できます。 契約明細行の詳細には、見積税額も入力できます。

契約明細の詳細では原料見積には対応していません。

## <a name="use-a-project-to-create-an-estimate"></a>プロジェクトを使用して見積もりを作成する 

プロジェクトの時間と費用を見積もることができます。 Project Operations は、プロジェクトの材料や料金の見積もりをサポートしていません。

時間の見積もりが生成されるタイミングは、タスクを作成し、タスクの実行に必要な標準リソースの属性を識別するときです。 時間見積もりは、スケジュール タスクから生成されます。 スケジュールのコンテキスト外で汎用的なチームメンバーを作成した場合、時間の見積もりは作成されません。

経費の予測が **経費見積もり** ページのグリッドに入力されます。

プロジェクトの見積もりを作成することは、プロジェクト計画の各タスクの労務または時間と経費の詳細な見積もりを作成できるため、ベストプラクティスと見なされます。 次に、この詳細な見積もりを使用して、各見積もり行の見積もりを作成し、顧客にとってより信頼性の高い見積もりを作成できます。 プロジェクト計画を使用して見積もり行に詳細な見積もりをインポートまたは作成すると、Project Operations はこれらの見積もりの売上値と原価値をインポートします。 インポート後、プロジェクトの見積もりで収益性、マージン、および実現可能性のメトリックを表示できます。

## <a name="understanding-estimates"></a>見積もりの理解

以下の表を参考にして、見積もり段階のビジネス ロジックを理解してください。

| シナリオ                                                                                                                                                                                                                                                                                                                                          | エンティティ レコード                                                                                                                                                                                                       | トランザクションの種類 | トランザクション クラス | 追加情報                                                            |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|-------------|-----------------------------------------------------------------------------------|
| 見積り時間の売上価値を見積もる必要がある場合                                                                                                                                                                                                                                                                                    | 見積明細詳細(QLD) が作成されます                                                                                                                                                                               | プロジェクト契約 | Time        | 売上側のQLD行にある 「取引発生元」 フィールドは、原価側のQLDを参照します。 |
|                                                                                                                                                                                                                                                                                     | システムによって2番目のQLDレコードが作成され、ここには対応する原価値が格納されます。 すべての金銭が関連しないフィールドは、システムによって売上QLDから原価QLDにコピーされます。                                                                                                                                                                               | コスト | Time        | 売上側の見積明細詳細 (QLD) 行の取引元フィールドは、原価側のQLDを参照します。 |
| 契約時間の売上価値を見積もる必要がある場合                                                                                                                                                                                                                                                                                 | プロジェクト契約明細詳細 (CLD) レコードが作成されます                                                                                                                                                                    | プロジェクト契約 | Time        | 売上側のQLD行にある 「取引発生元」 フィールドは、原価側のQLDを参照します。      |
|                                                                                                                                                                                                                                                                                  | システムによって2番目のQLDレコードが作成され、ここには対応する原価値が格納されます。 すべての金銭が関連しないフィールドは、システムによって売上QLDから原価QLDにコピーされます。                                                                                                                                                                    | コスト | Time        | 売上側のQLD行にある 「取引発生元」 フィールドは、原価側のQLDを参照します。      |
| ユーザーがプロジェクトタスクのリソースを説明する場合                                                                                                                                                                                                                                                                                            | すべての必須となっている価格設定ディメンションでタスクを作成すると、タスクの売上値を示す予測ラインのレコードが作成されます。 役割と組織単位は、価格設定ディメンションです | プロジェクト契約 | 時間        |                                                                                   |
|     | すべての必須となっている価格設定ディメンションでタスクを作成すると、タスクの原価値を示す予測ラインのレコードが作成されます。 すべての金銭が関連しないフィールドは、システムによって売上予測ラインから原価予測ラインにコピーされます。 役割と組織単位は、価格設定ディメンションであり、原価レートと請求レートの両方に対応しています。                                                                                                                                                                                                                | 原価             | 時間           |                                                                                   |



## <a name="customize-the-quote-line-detail-and-contract-line-detail-entities"></a>見積品目詳細エンティティと契約品目詳細エンティティをカスタマイズする

見積明細詳細にカスタム フィールドを追加し、作成される関連する原価明細にフィールドの値を既定値として自動入力する場合は、**PreOperationContractLineDetailUpdate** および **PreOperationQuoteLineDetailUpdate** プラグイン登録ツールを使用します。 これらのプラグインは、見積明細詳細または契約明細詳細の変更後に再登録する必要があります。 このプロセスを完了するには、以下の手順に従ってください。

1. PluginRegistrationTool を開いて、オンライン インスタンスに接続します。
2. **検索** を選択し、更新するプラグインを検索します。
3. プラグインを選択し、メイン ページで **選択する** をクリックします。
4. 更新をするプラグインのステップを選んで右クリックし、 **更新** を選択します。
5. **既存の手順の更新** ダイアログ ボックスで、 **属性をフィルタする** フィールドの省略記号(...)ボタン (**...**) を選択します:
6. **属性の選択** ダイアログ ボックスで、カスタム属性のチェックボックスを選択します。
7. **OK** を選択してダイアログボックスを閉じ、 **手順の更新** を選択します。
8. さらにプラグインを更新するには、手順1 から 7を繰り返します。
9. **PluginRegistrationTool** を閉じます。


[!INCLUDE[footer-include](../includes/footer-banner.md)]
