---
title: プロジェクトの見積もりと実績のコスト単価を決定する
description: この記事では、プロジェクトの見積もりと実績のコスト単価の決定方法について説明します。
author: rumant
ms.date: 09/01/2022
ms.topic: article
ms.prod: ''
ms.reviewer: johnmichalak
ms.author: rumant
ms.openlocfilehash: c2295174df1ce766c6d1304f4e9c55d32d5c4775
ms.sourcegitcommit: 60a34a00e2237b377c6f777612cebcd6380b05e1
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/13/2022
ms.locfileid: "9475237"
---
# <a name="determine-cost-rates-for-project-estimates-and-actuals"></a>プロジェクトの見積もりと実績のコスト単価を決定する

_**適用対象:** ライト展開 - 見積もり請求の取引_

Microsoft  Dynamics 365 Project Operations の見積と実績の原価率を決定するために、システムは最初に受信した見積または実績のコンテキストにある日付と通貨を使用して、原価価格表を決定します。 実績コンテキストの場合、システムは **取引日** フィールドを使用して、適用可能な価格表を決定します。 受信した見積もりまたは実績の **取引日** の値は、価格表上の **有効開始 (タイムゾーンに依存しない)** および **有効終了 (タイムゾーンに依存しない)** 値と比較されます。 原価価格表が決定した後、システムが原価率を決定します。 

## <a name="determining-cost-rates-in-estimate-and-actual-contexts-for-time"></a>時間の見積もりと実績コンテキストで、コスト単価を決定する

**時間** の推定コンテキストは次を参照します:

- **時間** の見積依頼明細行の詳細。
- **時間** の契約品目の詳細。
- プロジェクトのリソース割り当て。

**時間** の実績コンテキストは次を参照します:

- **時間** のエントリおよび修正仕訳帳明細。
- 時間エントリが発行されたときに作成される仕訳帳明細行。

コスト単価表が決定された後、既定のコスト単価に入力する次の段階を完了します。

1. システムは、**時間** に対する見積りコンテキストまたは実績コンテキストの **ロール** フィールドと **リソース単位** フィールドの組み合わせを、価格表のカテゴリ価格明細行と照合します。 この一致は、人件費に標準の価格設定ディメンションを使用していることを前提としています。 システムがフィールドを一致させるように設定した場合は、 **ロール** と **リソース ユニット** の他に、またはそれに加えて、別の組み合わせを使用して、一致する役割の価格ラインを取得するために使用されます。
1. システムが、**ロール** と **リソース ユニット** の組み合わせのコスト単価を持つロール価格行を検出した場合、そのコスト単価が既定のコスト単価として使用されます。
1. システムが **ロール** と **リソースユニット** の値を一致させることができない場合、**ロール** フィールドに一致する値を持つロール価格明細行を取得し、**リソース ユニット** フィールドは null 値になります。 システムに一致するロールの価格レコードがあると、そのレコードのコスト単価が規定に設定されます。

> [!NOTE]
> **ロール**、**リソース単位** フィールドの優先順位が異なる構成になっている場合や、優先順位の高い他のディメンジョンがある場合は、それに応じて前の動作が変化します。 システムは、各価格設定ディメンション値に一致する値を持つロール価格レコードを優先順に取得します。 これらのディメンションの null 値を持つ行が最後になります。

## <a name="determining-cost-rates-on-actual-and-estimate-lines-for-expense"></a>経費用の実績明細行と見積もり明細行でのコスト単価の決定

**経費** の推定コンテキストは次を参照します:

- **経費** の見積依頼明細行の詳細。
- **経費** の契約品目詳細。
- プロジェクト経費の見積もり

**経費** の実績コンテキストは次を参照します:

- **経費** のエントリおよび修正仕訳帳明細。
- 経費エントリが発行されたときに作成される仕訳帳明細行。

コスト単価表が決定された後、既定のコスト単価に入力する次の段階を完了します。

1. システムは、**経費** に対する見積りコンテキストまたは実績コンテキストの **カテゴリ** フィールドと **単位** フィールドの組み合わせを、価格表のカテゴリ価格明細行と一致させます。
1. システムが **カテゴリ** と **単位** の組み合わせのコスト単価を持つカテゴリ価格明細行を検出した場合、コスト単価が既定として使用されます。
1. システムが **カテゴリ** と **単位** の値を一致できない場合、単価は既定で **0** (ゼロ) に設定されます。
1. 見積もりコンテキストで、一致するカテゴリの価格明細行を見つけることができるが、価格設定方法が **出荷単位ごとの価格** でない場合、コスト単価が既定で **0** (ゼロ) に設定されます。

## <a name="determining-cost-rates-on-actual-and-estimate-lines-for-material"></a>材料の実績と見積もり行のコスト単価を決定する

**材料** の推定コンテキストは次を参照します:

- **材料** の見積依頼明細行の詳細。
- **材料** の契約品目詳細。
- プロジェクトの材料の見積もり

**材料** の実績コンテキストは次を参照します:

- **材料** のエントリおよび修正仕訳帳明細。
- 材料使用ログが送信されたときに作成される仕訳帳明細行。

コスト単価表が決定された後、既定のコスト単価に入力する次の段階を完了します。

1. システムは、**材料** に対する見積りコンテキストまたは実績コンテキストの **製品** フィールドと **単位** フィールドの組み合わせを、価格表品目の明細行に対して使用します。
1. システムが **製品** と **単位** の組み合わせのコスト単価を持つ価格表品目の明細行を検出した場合、コスト単価が既定として使用されます。
1. システムが **製品** と **単位** 値を一致できない場合、単価は既定で **0** (ゼロ) に設定されます。
1. 見積もりコンテキストまたは実績コンテキストで、一致する価格表品目の明細行を見つけることができるが、価格設定方法が **通貨合計** でない場合、単位原価は既定で **0** (ゼロ) に設定されます。 この動作は、Project Operations がプロジェクトで使用される材料に対して **通貨量** 価格設定方法のみをサポートしているために発生します。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
