---
title: 価格設定ディメンションとして予約可能リソースを使用する
description: このトピックでは、価格設定ディメンションとしての予約可能リソースの使用方法について説明します。
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.service: business-applications
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: d9b25a768f892d83c09d37ce76291d6c8e75b1be
ms.sourcegitcommit: 418fa1fe9d605b8faccc2d5dee1b04b4e753f194
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/10/2021
ms.locfileid: "5145004"
---
# <a name="use-bookable-resource-as-a-pricing-dimension"></a><span data-ttu-id="256c5-103">価格設定ディメンションとして予約可能リソースを使用する</span><span class="sxs-lookup"><span data-stu-id="256c5-103">Use bookable resource as a pricing dimension</span></span>

[!include [banner](../includes/psa-now-project-operations.md)]

<span data-ttu-id="256c5-104">このトピックでは、価格設定ディメンションとしての予約可能リソースの使用方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="256c5-104">This topic provides information about using a bookable resource as a pricing dimension.</span></span> <span data-ttu-id="256c5-105">開始する前に、価格設定ディメンションのソリューションをまだ作成していなければ、新しく作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="256c5-105">Before you begin, if you have not already created a pricing dimension solution, you will need to create a new one.</span></span> <span data-ttu-id="256c5-106">既に価格設定のディメンションのソリューションがある場合、そのソリューションで変更を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="256c5-106">If you already have a pricing dimension solution, then you can make your changes in that solution.</span></span> <span data-ttu-id="256c5-107">組織用に新しい価格設定ディメンションのソリューションを作成済みでない場合は、[カスタム フィールドおよびエンティティを作成する](create-custom-fields-entities.md) の手順を完了します。</span><span class="sxs-lookup"><span data-stu-id="256c5-107">If you have not created a new pricing dimension solution for your organization, complete the procedures in the [Create custom fields and entities](create-custom-fields-entities.md) topic.</span></span>

## <a name="add-bookable-resource-to-forms-and-views"></a><span data-ttu-id="256c5-108">フォームとビューに予約可能リソースを追加します。</span><span class="sxs-lookup"><span data-stu-id="256c5-108">Add bookable resource to forms and views</span></span>
<span data-ttu-id="256c5-109">各フィールドがが価格設定ディメンション ソリューションの UI に表示されるようにするには、重要な Project Service のすべてのフォームとビューに関する説明を理解し、エンティティのフォームとビューに次のフィールドを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="256c5-109">To make the fields visible in the UI in the pricing dimension solution, you will need to walk through all of the forms and views of the key Project Service entities and add these fields to the forms and views of those entities.</span></span>
<span data-ttu-id="256c5-110">以下の表は、更新が必要となる標準フォームとビューをエンティティごとにまとめた包括的なリストです。</span><span class="sxs-lookup"><span data-stu-id="256c5-110">The following table is a comprehensive list of the out-of-the box forms and views, listed by entity, that will need to be updated.</span></span> <span data-ttu-id="256c5-111">これらのエンティティのカスタマイズで、追加のビューやフォームが存在する場合は、新しいフィールドの追加も行います。</span><span class="sxs-lookup"><span data-stu-id="256c5-111">If there are any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>
<span data-ttu-id="256c5-112">ソリューション エクスプローラーの価格設定ディメンション ソリューションを開き、 **すべてのカスタマイズを公開します** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="256c5-112">Open Solution Explorer for the pricing dimension solution and then click **Publish All Customizations**.</span></span>


|   <span data-ttu-id="256c5-113">エンティティ</span><span class="sxs-lookup"><span data-stu-id="256c5-113">Entity</span></span>        | <span data-ttu-id="256c5-114">フォーム</span><span class="sxs-lookup"><span data-stu-id="256c5-114">Forms</span></span>   |<span data-ttu-id="256c5-115">[ビュー]</span><span class="sxs-lookup"><span data-stu-id="256c5-115">Views</span></span>        |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="256c5-116">ロール価格</span><span class="sxs-lookup"><span data-stu-id="256c5-116">Role Price</span></span>|<span data-ttu-id="256c5-117">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-117">• Information</span></span> |<span data-ttu-id="256c5-118">• アクティブなリソース カテゴリ価格</span><span class="sxs-lookup"><span data-stu-id="256c5-118">• Active Resource Category Prices</span></span><br> <span data-ttu-id="256c5-119">• リソース カテゴリ価格関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-119">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="256c5-120">ロール価格利幅</span><span class="sxs-lookup"><span data-stu-id="256c5-120">Role Price Markup</span></span>|<span data-ttu-id="256c5-121">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-121">• Information</span></span>|<span data-ttu-id="256c5-122">• アクティブなロール価格利幅</span><span class="sxs-lookup"><span data-stu-id="256c5-122">• Active Role Price Markup</span></span><br><span data-ttu-id="256c5-123">• ロール価格利幅の関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-123">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="256c5-124">見積依頼明細行の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-124">Quote line detail</span></span>|<span data-ttu-id="256c5-125">• プロジェクト情報</span><span class="sxs-lookup"><span data-stu-id="256c5-125">• Project Information</span></span><br><span data-ttu-id="256c5-126">• プロジェクトの簡易作成</span><span class="sxs-lookup"><span data-stu-id="256c5-126">• Project Quick Create</span></span>|<span data-ttu-id="256c5-127">• アクティブな見積依頼明細行の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-127">• Active Quote Line Detail</span></span><br><span data-ttu-id="256c5-128">• 結合済みの見積依頼明細行の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-128">• Combined Quote Line Details</span></span><br><span data-ttu-id="256c5-129">• 見積依頼明細行の詳細関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-129">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="256c5-130">プロジェクト契約品目の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-130">Project Contract line detail</span></span>|<span data-ttu-id="256c5-131">• プロジェクト情報</span><span class="sxs-lookup"><span data-stu-id="256c5-131">• Project Information</span></span><br><span data-ttu-id="256c5-132">• プロジェクトの簡易作成</span><span class="sxs-lookup"><span data-stu-id="256c5-132">• Project Quick Create</span></span>|<span data-ttu-id="256c5-133">• 結合済みの契約品目の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-133">• Combined Contract line Details</span></span><br><span data-ttu-id="256c5-134">• アクティブな契約品目の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-134">• Active Contract Line Details</span></span><br><span data-ttu-id="256c5-135">• 契約品目詳細関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-135">• Contract Line Detail associated view</span></span>|
|  <span data-ttu-id="256c5-136">プロジェクト タスク</span><span class="sxs-lookup"><span data-stu-id="256c5-136">Project Task</span></span>|<span data-ttu-id="256c5-137">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-137">• Information</span></span><br><span data-ttu-id="256c5-138">• 新規フォーム</span><span class="sxs-lookup"><span data-stu-id="256c5-138">• New Form</span></span>||
|  <span data-ttu-id="256c5-139">プロジェクト チーム メンバー</span><span class="sxs-lookup"><span data-stu-id="256c5-139">Project Team Member</span></span>|<span data-ttu-id="256c5-140">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-140">• Information</span></span><br><span data-ttu-id="256c5-141">• 新規フォーム</span><span class="sxs-lookup"><span data-stu-id="256c5-141">• New Form</span></span>|<span data-ttu-id="256c5-142">• アクティブなプロジェクト チーム メンバー</span><span class="sxs-lookup"><span data-stu-id="256c5-142">• Active Project Team Members</span></span><br><span data-ttu-id="256c5-143">• プロジェクト チーム メンバー</span><span class="sxs-lookup"><span data-stu-id="256c5-143">• Project Team Members</span></span><br><span data-ttu-id="256c5-144">• プロジェクト チーム メンバー関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-144">• Project Team members associated View</span></span>|
|  <span data-ttu-id="256c5-145">時間入力</span><span class="sxs-lookup"><span data-stu-id="256c5-145">Time Entry</span></span>|<span data-ttu-id="256c5-146">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-146">• Information</span></span><br><span data-ttu-id="256c5-147">• 時間エントリの作成</span><span class="sxs-lookup"><span data-stu-id="256c5-147">• Create Time Entry</span></span>|<span data-ttu-id="256c5-148">• 私の日付別の時間エントリ</span><span class="sxs-lookup"><span data-stu-id="256c5-148">• My Time Entries By Date</span></span><br><span data-ttu-id="256c5-149">• 私の今週の時間エントリ</span><span class="sxs-lookup"><span data-stu-id="256c5-149">• My time Entries for this week</span></span><br><span data-ttu-id="256c5-150">• 承認待ちの時間エントリ</span><span class="sxs-lookup"><span data-stu-id="256c5-150">• Time entries for approval</span></span>|
|  <span data-ttu-id="256c5-151">仕訳帳明細行</span><span class="sxs-lookup"><span data-stu-id="256c5-151">Journal Line</span></span>|<span data-ttu-id="256c5-152">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-152">• Information</span></span><br><span data-ttu-id="256c5-153">• 簡易作成</span><span class="sxs-lookup"><span data-stu-id="256c5-153">• Quick create</span></span>|<span data-ttu-id="256c5-154">• アクティブな仕訳帳明細行</span><span class="sxs-lookup"><span data-stu-id="256c5-154">• Active journal lines</span></span><br><span data-ttu-id="256c5-155">• 仕訳帳明細行関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-155">• Journal Line associated view</span></span>|
|  <span data-ttu-id="256c5-156">請求明細行の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-156">Invoice Line Detail</span></span>|<span data-ttu-id="256c5-157">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-157">• Information</span></span><br><span data-ttu-id="256c5-158">• 簡易作成</span><span class="sxs-lookup"><span data-stu-id="256c5-158">• Quick create</span></span>|<span data-ttu-id="256c5-159">• アクティブな請求明細行の詳細</span><span class="sxs-lookup"><span data-stu-id="256c5-159">• Active Invoice Line Details</span></span><br><span data-ttu-id="256c5-160">• 請求可能な請求トランザクション</span><span class="sxs-lookup"><span data-stu-id="256c5-160">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="256c5-161">• 無料請求トランザクション</span><span class="sxs-lookup"><span data-stu-id="256c5-161">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="256c5-162">• 請求明細行の詳細関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-162">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="256c5-163">• 請求不可の請求トランザクション</span><span class="sxs-lookup"><span data-stu-id="256c5-163">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="256c5-164">実績</span><span class="sxs-lookup"><span data-stu-id="256c5-164">Actual</span></span>|<span data-ttu-id="256c5-165">• 情報</span><span class="sxs-lookup"><span data-stu-id="256c5-165">• Information</span></span><br><span data-ttu-id="256c5-166">• アクティブな実績</span><span class="sxs-lookup"><span data-stu-id="256c5-166">• Active Actuals</span></span>|<span data-ttu-id="256c5-167">• 実績関連ビュー</span><span class="sxs-lookup"><span data-stu-id="256c5-167">• Actual Associated view</span></span>|

## <a name="set-up-bookable-resource-as-a-pricing-dimension"></a><span data-ttu-id="256c5-168">価格設定ディメンションとして予約可能リソースを設定する</span><span class="sxs-lookup"><span data-stu-id="256c5-168">Set up bookable resource as a pricing dimension</span></span>

1. <span data-ttu-id="256c5-169">Webインターフェイスで、**Project Service** > **設定** > **パラメーター** の順に移動します。</span><span class="sxs-lookup"><span data-stu-id="256c5-169">In the web interface, go to **Project Service** > **Settings** > **Parameters**.</span></span> <span data-ttu-id="256c5-170">**パラメーター** ページ、 **金額ベースの価格設定ディメンション** タブ では、タブのグリッドに価格設定ディメンション エンティティのレコードが表示されます。</span><span class="sxs-lookup"><span data-stu-id="256c5-170">On the **Parameter** page, on the **Amount-Based Pricing Dimensions** tab, notice that the grid on the tab shows the records in the pricing dimensions entity.</span></span> 
2. <span data-ttu-id="256c5-171">価格設定のディメンションの一覧に **予約可能リソース** を、 **msdyn_bookableresource** として追加します。</span><span class="sxs-lookup"><span data-stu-id="256c5-171">Add **Bookable Resource** to this list of pricing dimensions as **msdyn_bookableresource**.</span></span> 
3. <span data-ttu-id="256c5-172">予約可能リソースが価格設定ディメンションとして機能するコンテキストを指定し、 **価格に適用** および **売上に適用** の値を設定します。</span><span class="sxs-lookup"><span data-stu-id="256c5-172">Indicate the context in which the bookable resource works as a pricing dimension and set the **Applicable to cost** and **Applicable to sales** values.</span></span>
4. <span data-ttu-id="256c5-173">**ディメンションの種類** フィールドで **金額ベース** を選択します。</span><span class="sxs-lookup"><span data-stu-id="256c5-173">In the **Dimension Type** field, select **Amount-based**.</span></span> 
5. <span data-ttu-id="256c5-174">予約可能リソースに対する価格と売上の優先度を選択します。</span><span class="sxs-lookup"><span data-stu-id="256c5-174">Select the cost and sales priority for the bookable resource.</span></span> <span data-ttu-id="256c5-175">通常、価格設定ディメンションに含まれる場合、予約可能リソースの優先度は最も高くなります。その為、ここに **1** (優先度によっては **0** ) を設定するとこの挙動を明示化出来ます。</span><span class="sxs-lookup"><span data-stu-id="256c5-175">Typically, when included as a pricing dimension, a bookable resource has the highest priority so setting this to **1** (or **0** depending on how you count the priority) would ensure that behavior.</span></span>

## <a name="set-up-pricing-dimension-field-names"></a><span data-ttu-id="256c5-176">価格ディメンション のフィールド名称を設定する</span><span class="sxs-lookup"><span data-stu-id="256c5-176">Set up pricing dimension field names</span></span>

<span data-ttu-id="256c5-177">**価格ロール** テーブルの価格ディメンションのフィールド名が、価格デフォルト設定を機能させる必要がある他のエンティティのフィールド名と異なる場合、価格設定ディメンション レコードで異なる名称を認識する必要があります。</span><span class="sxs-lookup"><span data-stu-id="256c5-177">When the field name of a pricing dimension in the **Role Price** table is different from its field name in any of the other entities where price defaulting needs to work, the pricing dimension record must be made aware of the different names.</span></span>    
<span data-ttu-id="256c5-178">予約可能リソースでは、 **プロジェクト チーム メンバー** エンティティーには、 **価格ロール** エンティティー (**msdyn_bookableresource**)で呼び出されるものとは少し異なるフィールド名(**msdyn_bookableresourceid**)があります。</span><span class="sxs-lookup"><span data-stu-id="256c5-178">For bookable resource, the **Project Team Members** entity has a slightly different field name (**msdyn_bookableresourceid**) from what it is called on the **Role price** entity (**msdyn_bookableresource**).</span></span> <span data-ttu-id="256c5-179">の価格設定ディメンション レコードの **msydn_bookableresource** は、これに対応する必要があります。</span><span class="sxs-lookup"><span data-stu-id="256c5-179">The pricing dimension record for **msydn_bookableresource** must be made aware of this.</span></span> 
1. <span data-ttu-id="256c5-180">そのためには、 **価格ディメンション** グリッドの行をダブルクリックし、 **msdyn_bookableresource** のディメンションページを開きます。</span><span class="sxs-lookup"><span data-stu-id="256c5-180">To do this, double-click the row in the **Pricing Dimensions** grid to open the dimension page of **msdyn_bookableresource**.</span></span>
2. <span data-ttu-id="256c5-181">ディメンション ページの、 **関連** タブで、 **価格ディメンションのフィールド名称** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="256c5-181">On dimension page, on the **Related** tab, click **Pricing Dimension Field Names**.</span></span>

 ![価格ディメンションのフィールド名のタブ](media/PD-fieldname.png)

4. <span data-ttu-id="256c5-183">開いた関連ビューにて **新しい価格ディメンションのフィールド名を追加** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="256c5-183">On the associated view that opens, click **Add New Pricing Dimension Field Name**.</span></span>

 ![新たな価格ディメンション フィールド名を追加する](media/Add-NewPD-fieldname.png)


<span data-ttu-id="256c5-185">**msdyn_bookableresource** の **新規価格ディメンションフィールド名** ページが起動します。</span><span class="sxs-lookup"><span data-stu-id="256c5-185">This opens the **New Pricing dimension field name** page for **msdyn_bookableresource**.</span></span> 

5. <span data-ttu-id="256c5-186">**エンティティのロジカル名** のフィールドに **msdyn_projectteam** を追加し、 **フィールド名** のフィールドに **msdyn_bookableresourceid** を追加します。</span><span class="sxs-lookup"><span data-stu-id="256c5-186">Add **msdyn_projectteam** to the **Entity Locigal Name** field and **msdyn_bookableresourceid** to the **Field Name** field.</span></span> <span data-ttu-id="256c5-187">レコードを保存します。</span><span class="sxs-lookup"><span data-stu-id="256c5-187">Save the record.</span></span>

 ![新規価格ディメンション フィールド名の追加フォーム](media/PD-fieldname-Added.png)
