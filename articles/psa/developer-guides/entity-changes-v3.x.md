---
title: エンティティ、コントロール、およびユーザー インターフェイスの変更 (Project Service Automation 3.x)
description: このトピックでは、Project Service Automation 3.x Microsoft Dynamics のソリューションの変更について説明します。
author: makk
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 03/15/2019
ms.topic: article
ms.service: business-applications
ms.author: makk
audience: admin
search.audienceType:
- admin
- customizer
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 48062eda1f524dd3ca0d5feccf11fd5577521275
ms.sourcegitcommit: 418fa1fe9d605b8faccc2d5dee1b04b4e753f194
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/10/2021
ms.locfileid: "5148739"
---
# <a name="entity-control-and-user-interface-changes-project-service-automation-3x"></a><span data-ttu-id="7caa0-103">エンティティ、コントロール、およびユーザー インターフェイスの変更 (Project Service Automation 3.x)</span><span class="sxs-lookup"><span data-stu-id="7caa0-103">Entity, control, and user interface changes (Project Service Automation 3.x)</span></span>

[!include [banner](../../includes/psa-now-project-operations.md)]


<span data-ttu-id="7caa0-104">Project Service Automation (PSA) 3.x Microsoft Dynamics のリリースでは、エンティティ、コントロール、ビュー、ユーザー インターフェイスに多くの変更がされています。</span><span class="sxs-lookup"><span data-stu-id="7caa0-104">With the release of Microsoft Dynamics Project Service Automation (PSA) 3.x, many changes have been made to the entities, controls, views, and user interface.</span></span> <span data-ttu-id="7caa0-105">このトピックでは、これらの重要な変更について説明します。</span><span class="sxs-lookup"><span data-stu-id="7caa0-105">This topic provides information about these important changes.</span></span>

## <a name="parent-child-relationships-for-sales-document-sales-document-line-sales-document-line-detail-entities"></a><span data-ttu-id="7caa0-106">営業ドキュメント、営業ドキュメントの明細、営業ドキュメント品目明細エンティティの親子関係</span><span class="sxs-lookup"><span data-stu-id="7caa0-106">Parent-child relationships for sales document, sales document line, sales document line detail entities</span></span>
<span data-ttu-id="7caa0-107">バージョン3.0よりも前にリリースされた Dynamics 365 Project Service Automation (PSA) では、営業ドキュメント、営業ドキュメントの明細、営業ドキュメント品目明細エンティティーでは、関連エンティティーのGUIDの文字列表現を保持するストリング フィールドによって実装されていました。</span><span class="sxs-lookup"><span data-stu-id="7caa0-107">In versions of Dynamics 365 Project Service Automation (PSA) released prior to version 3.0, some of the relationships between sales documents, sales document lines, and sales document line detail entities were implemented through string fields that would hold a string representation of GUID of the related entity.</span></span> <span data-ttu-id="7caa0-108">これは、ソリューションのサーバ側とクライアント側で重要なカスタム コードを必要とするプラットフォームの制限によるものです。このソリューションは、これらの関係を一般的な Dynamics CRM エンティティの関係と同様に動作させ、文字列フィールドをルックアップフィールドのように動作させます。</span><span class="sxs-lookup"><span data-stu-id="7caa0-108">This was due to platform limitations that required significant custom code on the server and client sides of the solution to make those relationships work similar to typical Dynamics CRM entity relationships and to make string fields act like lookup fields.</span></span>

<span data-ttu-id="7caa0-109">PSA 3.0では、営業文書と営業文書明細エンティティ間の新規エンティティの関連性を利用するように更新されました。</span><span class="sxs-lookup"><span data-stu-id="7caa0-109">PSA 3.0 has been updated to leverage the new entity relationships between sales document and sales document line entities.</span></span>

<span data-ttu-id="7caa0-110">ルックアップフィールドを使用してエンティティへの参照を示すことができるようになったため、以前のバージョンで関連するエンティティのGUIDの文字列値を保持していたフィールドは不要になり、非推奨になりました。</span><span class="sxs-lookup"><span data-stu-id="7caa0-110">Because lookup fields can now be used to indicate references to entities, the fields that held the string value of the GUID of the related entity in previous versions are no longer needed and therefore have been deprecated.</span></span> <span data-ttu-id="7caa0-111">従来の文字列フィールドで定義された関係を処理するカスタムクライアントおよびサーバー側のコードも廃止されています。</span><span class="sxs-lookup"><span data-stu-id="7caa0-111">The custom client and server side code that handles the relationships defined by legacy string fields has also been deprecated.</span></span>

### <a name="entity-schema-changes"></a><span data-ttu-id="7caa0-112">エンティティ スキーマの変更</span><span class="sxs-lookup"><span data-stu-id="7caa0-112">Entity schema changes</span></span>
<span data-ttu-id="7caa0-113">以下の表に、使用すべきでない文字列フィールドとエンティティの新たなルックアップフィールドのリストを示します。</span><span class="sxs-lookup"><span data-stu-id="7caa0-113">The following table provides a one-to-one list of the deprecated string fields and the new lookup fields for the entities.</span></span> 

 <span data-ttu-id="7caa0-114">エンティティ</span><span class="sxs-lookup"><span data-stu-id="7caa0-114">Entity</span></span> |   <span data-ttu-id="7caa0-115">廃止された文字列 (文字列)</span><span class="sxs-lookup"><span data-stu-id="7caa0-115">Deprecated field (String)</span></span> | <span data-ttu-id="7caa0-116">新規フィールド(検索)</span><span class="sxs-lookup"><span data-stu-id="7caa0-116">New field (Lookup)</span></span>
--- | --- | ---
<span data-ttu-id="7caa0-117">請求明細 (請求書の明細)</span><span class="sxs-lookup"><span data-stu-id="7caa0-117">invoicedetail (Invoice Line)</span></span> |  <span data-ttu-id="7caa0-118">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-118">msdyn_contractline</span></span> |    <span data-ttu-id="7caa0-119">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-119">msdyn_contractlineid</span></span>
<span data-ttu-id="7caa0-120">msdyn_actual (実績)</span><span class="sxs-lookup"><span data-stu-id="7caa0-120">msdyn_actual (Actual)</span></span> | <span data-ttu-id="7caa0-121">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-121">msdyn_salescontractline</span></span> |   <span data-ttu-id="7caa0-122">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-122">msdyn_salescontractlineid</span></span>
<span data-ttu-id="7caa0-123">msdyn_contractlineinvoiceschedule (プロジェクト 契約 請求書明細 スケジュール )</span><span class="sxs-lookup"><span data-stu-id="7caa0-123">msdyn_contractlineinvoiceschedule (Project Contract Line Invoice Schedule)</span></span> |    <span data-ttu-id="7caa0-124">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-124">msdyn_contractline</span></span> |    <span data-ttu-id="7caa0-125">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-125">msdyn_contractlineid</span></span>
<span data-ttu-id="7caa0-126">msdyn_contractlinescheduleofvalue (プロジェクト契約明細マイルストーン)</span><span class="sxs-lookup"><span data-stu-id="7caa0-126">msdyn_contractlinescheduleofvalue (Project Contract Line Milestone)</span></span> |   <span data-ttu-id="7caa0-127">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-127">msdyn_contractline</span></span> |    <span data-ttu-id="7caa0-128">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-128">msdyn_contractlineid</span></span>
<span data-ttu-id="7caa0-129">msdyn_fact (実際)</span><span class="sxs-lookup"><span data-stu-id="7caa0-129">msdyn_fact (Fact)</span></span> | <span data-ttu-id="7caa0-130">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-130">msdyn_salescontractline</span></span> |   <span data-ttu-id="7caa0-131">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-131">msdyn_salescontractlineid</span></span>
<span data-ttu-id="7caa0-132">msdyn_invoicelinetransaction (請求書明細詳細)</span><span class="sxs-lookup"><span data-stu-id="7caa0-132">msdyn_invoicelinetransaction (Invoice Line Detail)</span></span> | <span data-ttu-id="7caa0-133">msdyn_invoiceline</span><span class="sxs-lookup"><span data-stu-id="7caa0-133">msdyn_invoiceline</span></span> <br> <span data-ttu-id="7caa0-134">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-134">msdyn_salescontractline</span></span> | <span data-ttu-id="7caa0-135">msdyn_invoicelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-135">msdyn_invoicelineid</span></span> <br> <span data-ttu-id="7caa0-136">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-136">msdyn_salescontractlineid</span></span>
<span data-ttu-id="7caa0-137">msdyn_journalline (仕訳帳明細行)</span><span class="sxs-lookup"><span data-stu-id="7caa0-137">msdyn_journalline (Journal Line)</span></span> |  <span data-ttu-id="7caa0-138">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-138">msdyn_salescontractline</span></span> |   <span data-ttu-id="7caa0-139">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-139">msdyn_salescontractlineid</span></span>
<span data-ttu-id="7caa0-140">msdyn_orderlineresourcecategory (プロジェクト契約品目リソースカテゴリ)</span><span class="sxs-lookup"><span data-stu-id="7caa0-140">msdyn_orderlineresourcecategory (Project Contract Line Resource Category)</span></span> | <span data-ttu-id="7caa0-141">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-141">msdyn_salescontractline</span></span> |   <span data-ttu-id="7caa0-142">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-142">msdyn_contractlineid</span></span>
<span data-ttu-id="7caa0-143">msdyn_orderlinetransaction (プロジェクト契約品目詳細)</span><span class="sxs-lookup"><span data-stu-id="7caa0-143">msdyn_orderlinetransaction (Project Contract Line Detail)</span></span> | <span data-ttu-id="7caa0-144">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-144">msdyn_salescontractline</span></span> |   <span data-ttu-id="7caa0-145">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-145">msdyn_salescontractlineid</span></span>
<span data-ttu-id="7caa0-146">msdyn_orderlinetransactioncategory (プロジェクト契約品目トランザクションカテゴリ)</span><span class="sxs-lookup"><span data-stu-id="7caa0-146">msdyn_orderlinetransactioncategory (Project Contract Line Transaction Category)</span></span> |   <span data-ttu-id="7caa0-147">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-147">msdyn_contractline</span></span> |    <span data-ttu-id="7caa0-148">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-148">msdyn_contractlineid</span></span>
<span data-ttu-id="7caa0-149">msdyn_orderlinetransactionclassification (プロジェクト契約品目トランザクション分類)</span><span class="sxs-lookup"><span data-stu-id="7caa0-149">msdyn_orderlinetransactionclassification (Project Contract Line Transaction Classification)</span></span> |   <span data-ttu-id="7caa0-150">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="7caa0-150">msdyn_contractline</span></span> |    <span data-ttu-id="7caa0-151">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-151">msdyn_contractlineid</span></span>
<span data-ttu-id="7caa0-152">msdyn_quotelineinvoiceschedule (見積明細請求書スケジュール)</span><span class="sxs-lookup"><span data-stu-id="7caa0-152">msdyn_quotelineinvoiceschedule (Quote Line Invoice Schedule)</span></span> |  <span data-ttu-id="7caa0-153">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="7caa0-153">msdyn_quoteline</span></span> |   <span data-ttu-id="7caa0-154">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-154">msdyn_quotelineid</span></span>
<span data-ttu-id="7caa0-155">msdyn_quotelineresourcecategory (見積明細リソースカテゴリ)</span><span class="sxs-lookup"><span data-stu-id="7caa0-155">msdyn_quotelineresourcecategory (Quote Line Resource Category)</span></span> |    <span data-ttu-id="7caa0-156">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="7caa0-156">msdyn_quoteline</span></span> |   <span data-ttu-id="7caa0-157">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-157">msdyn_quotelineid</span></span>
<span data-ttu-id="7caa0-158">msdyn_quotelinescheduleofvalue (見積明細マイルストーン)</span><span class="sxs-lookup"><span data-stu-id="7caa0-158">msdyn_quotelinescheduleofvalue (Quote Line Milestone)</span></span> | <span data-ttu-id="7caa0-159">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="7caa0-159">msdyn_quoteline</span></span> |   <span data-ttu-id="7caa0-160">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-160">msdyn_quotelineid</span></span>
<span data-ttu-id="7caa0-161">msdyn_quotelinetransaction (見積明細詳細)</span><span class="sxs-lookup"><span data-stu-id="7caa0-161">msdyn_quotelinetransaction (Quote Line Detail)</span></span> |    <span data-ttu-id="7caa0-162">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="7caa0-162">msdyn_quoteline</span></span> |   <span data-ttu-id="7caa0-163">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-163">msdyn_quotelineid</span></span>
<span data-ttu-id="7caa0-164">msdyn_quotelinetransactioncategory (見積明細トランザクションカテゴリ)</span><span class="sxs-lookup"><span data-stu-id="7caa0-164">msdyn_quotelinetransactioncategory (Quote Line Transaction Category)</span></span> |  <span data-ttu-id="7caa0-165">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="7caa0-165">msdyn_quoteline</span></span> |   <span data-ttu-id="7caa0-166">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-166">msdyn_quotelineid</span></span>
<span data-ttu-id="7caa0-167">msdyn_quotelinetransactionclassification (見積明細トランザクション分類)</span><span class="sxs-lookup"><span data-stu-id="7caa0-167">msdyn_quotelinetransactionclassification (Quote Line Transaction Classification)</span></span> |  <span data-ttu-id="7caa0-168">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="7caa0-168">msdyn_quoteline</span></span> |   <span data-ttu-id="7caa0-169">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-169">msdyn_quotelineid</span></span>
<span data-ttu-id="7caa0-170">SalesOrderDetail (受注明細)</span><span class="sxs-lookup"><span data-stu-id="7caa0-170">SalesOrderDetail (Order Line)</span></span> | <span data-ttu-id="7caa0-171">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="7caa0-171">msdyn_quotelineid</span></span> | <span data-ttu-id="7caa0-172">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="7caa0-172">msdyn_quoteline</span></span> 

### <a name="deprecated-custom-views-and-controls"></a><span data-ttu-id="7caa0-173">非推奨のカスタム ビューとコントロール</span><span class="sxs-lookup"><span data-stu-id="7caa0-173">Deprecated custom views and controls</span></span>
<span data-ttu-id="7caa0-174">以下のカスタム ビューとコントロールおよび関連するアーティファクトは非推奨になりました。</span><span class="sxs-lookup"><span data-stu-id="7caa0-174">The following custom views and controls, and their related artifacts, have been deprecated.</span></span>

- <span data-ttu-id="7caa0-175">Chargeability ビュー</span><span class="sxs-lookup"><span data-stu-id="7caa0-175">Chargeability view.</span></span>
- <span data-ttu-id="7caa0-176">見積明細の **プロジェクト情報** ページに見積明細の詳細を表示するカスタム グリッド コントロール。</span><span class="sxs-lookup"><span data-stu-id="7caa0-176">Custom grid controls for showing quote line details on the **Project Information** page for the quote line.</span></span>
- <span data-ttu-id="7caa0-177">受注明細の **プロジェクト情報** ページにプロジェクト契約明細の詳細を表示するカスタム グリッド コントロール。</span><span class="sxs-lookup"><span data-stu-id="7caa0-177">Custom grid controls for showing project contract line details on the **Project Information** page for the sales order line.</span></span>

> [!NOTE]
> <span data-ttu-id="7caa0-178">廃止されたリソースの完全なリストについては、 [Project Service Automation v3.x で非推奨となったウェブリソース](../developer-guides/web-resources-deprecated-v3.x.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7caa0-178">For the full list of deprecated resources, see [Deprecated Web resources in Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md)</span></span>

## <a name="unified-client-interface-app-module"></a><span data-ttu-id="7caa0-179">統合クライアント インターフェイス アプリケーション モジュール</span><span class="sxs-lookup"><span data-stu-id="7caa0-179">Unified Client Interface App Module</span></span>
<span data-ttu-id="7caa0-180">統合クライアント インターフェイス (UCI) アプリケーション モジュールの導入にともない、PSAサイトマップエントリはシステムから削除されました。</span><span class="sxs-lookup"><span data-stu-id="7caa0-180">With the introduction of Unified Client Interface (UCI) App Modules, the PSA site map entries have been removed from the system.</span></span>  
<span data-ttu-id="7caa0-181">UCI アプリケーションモジュールにはPSA バージョンのフォームしか含まれていないため、営業案件、見積もり、受注、請求書ののフォーム切り替えに関する機能は不要となり、これらの使用は非推奨となりました。</span><span class="sxs-lookup"><span data-stu-id="7caa0-181">Functionality related to form switching for Opportunity, Quote, Order, Invoice has been deprecated as it is no longer required because the UCI App Module includes only PSA versions of the forms.</span></span>  

<span data-ttu-id="7caa0-182">以下のWebリソースが非推奨となりました:</span><span class="sxs-lookup"><span data-stu-id="7caa0-182">The following web resources have been deprecated:</span></span>

- <span data-ttu-id="7caa0-183">msdyn_\SalesDocument\SalesDocumentFormLoader.js</span><span class="sxs-lookup"><span data-stu-id="7caa0-183">msdyn_\SalesDocument\SalesDocumentFormLoader.js</span></span>
- <span data-ttu-id="7caa0-184">msdyn_\SalesDocument\PSSalesDocumentCustomFormIds.js</span><span class="sxs-lookup"><span data-stu-id="7caa0-184">msdyn_\SalesDocument\PSSalesDocumentCustomFormIds.js</span></span>

> [!NOTE]
> <span data-ttu-id="7caa0-185">廃止されたリソースの完全なリストについては、 [Project Service Automation v3.x で非推奨となったウェブリソース](../developer-guides/web-resources-deprecated-v3.x.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7caa0-185">For the full list of deprecated resources, see [Deprecated Web resources in Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md).</span></span>


