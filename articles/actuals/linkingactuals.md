---
title: トランザクションの起点 - 実績をソースにリンクします
description: この記事は、トランザクションの起点の概念を使用して、実績を時間入力、経費入力、材料使用ログなどの元のソース レコードにリンクする方法を説明します。
author: rumant
ms.date: 03/25/2021
ms.topic: article
ms.prod: ''
ms.reviewer: johnmichalak
ms.author: rumant
ms.openlocfilehash: f1beff392ddd449a930d38016ca6083fea97953b
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/03/2022
ms.locfileid: "8921308"
---
# <a name="transaction-origins---link-actuals-to-their-source"></a>トランザクションの起点 - 実績をソースにリンクします

_**適用対象 :** リソース/非在庫ベースのシナリオに使用するプロジェクト オペレーション、見積請求に対応する小規模のデプロイ_

トランザクションの起点レコードは、実績とその元となる時間エントリ、経費エントリ、材料使用ログ、プロジェクト請求書などを結びつけるために作成されます。

次の例は、Project Operations プロジェクトのライフサイクルにおける時間エントリの一般的な処理を示しています。

> ![Project Operations での時間エントリの処理。](media/basic-guide-17.png)
 
1. 時間エントリを送信すると、2 つの仕訳入力が作成されます。1 つはコスト用、もう 1 つは未請求販売用です。
2. 時間入力の最終承認により 2 つの実績が作成されます。1 つはコスト用、もう 1 つは未請求販売用です。
3. ユーザーがプロジェクト請求書を作成すると、未請求の販売実績のデータを使用して請求明細行トランザクションが作成されます。
4. 請求書が確認されると、2つの新しい実績が作成されます。1 つは未請求の販売取り消しと、もう 1 つ請求済み販売実績です。

この処理ワークフローの各イベントは、トランザクション起点エンティティにレコードを作成するトリガーとなり、時間エントリ、仕訳行、実績、請求行の詳細にわたって作成されるこれらのレコード間の関係のトレース構築に役立ちます。

次の表は、前述のワークフローのトランザクション起点エンティティのレコードを示しています。

| イベント                        | 発生元                   | 発生元の種類                       | トランザクション                       | トランザクションの種類         |
|------------------------------|--------------------------|-----------------------------------|-----------------------------------|--------------------------|
| 時間エントリの送信        | 時間エントリ レコードの GUID   | 時間入力                        | 仕訳帳明細行レコードの GUID (コスト)    | 仕訳帳明細行             |
| 時間エントリ レコードの GUID       | 時間入力               | 仕訳帳明細行レコードの GUID (販売)  | 仕訳帳明細行                      |                          |
| 承認時間                | 仕訳帳明細行レコードの GUID | 仕訳帳明細行                      | 未請求の販売レコードの GUID        | 実績                   |
| 時間エントリ レコードの GUID       | 時間入力               | 未請求の販売レコードの GUID        | 実績                            |                          |
| 仕訳帳明細行レコードの GUID     | 仕訳帳明細行             | コスト実績レコードの GUID           | 実績                            |                          |
| 時間エントリ レコードの GUID       | 時間入力               | コスト実績レコードの GUID           | 実績                            |                          |
| 請求書の作成             | 時間エントリ レコードの GUID   | 時間入力                        | 請求書明細行トランザクションの GUID     | 請求書明細行トランザクション |
| 仕訳帳明細行レコードの GUID     | 仕訳帳明細行             | 請求書明細行トランザクションの GUID     | 請求書明細行トランザクション          |                          |
| 請求書の確認         | 請求書明細行の GUID        | 請求明細行                      | 請求済み販売レコードの GUID          | 実績                   |
| 請求書の GUID                 | 請求書                  | 請求済み販売レコードの GUID          | 実績                            |                          |
| 請求明細行の詳細の GUID     | 請求明細行の詳細      | 請求済み販売レコードの GUID          | 実績                            |                          |
| 時間エントリ レコードの GUID       | 時間入力               | 請求済み販売レコードの GUID          | 実績                            |                          |
| 仕訳帳明細行レコードの GUID     | 仕訳帳明細行             | 請求済み販売レコードの GUID          | 実績                            |                          |
| 時間エントリ レコードの GUID       | 時間入力               | 未請求の販売取消の GUID      | 実績                            |                          |
| 仕訳帳明細行レコードの GUID     | 仕訳帳明細行             | 未請求の販売取消の GUID      | 実績                            |                          |
| 下書きの請求書修正     | 古い ILD GUID             | 請求書明細行トランザクション          | 修正 ILD GUID               | 請求書明細行トランザクション |
| 古い IL GUID                  | 請求明細行             | 修正 ILD GUID               | 請求書明細行トランザクション          |                          |
| 古い請求書の GUID             | 請求書                  | 修正 ILD GUID               | 請求書明細行トランザクション          |                          |
| 時間エントリ レコードの GUID       | 時間入力               | 修正 ILD GUID               | 請求書明細行トランザクション          |                          |
| 仕訳帳明細行レコードの GUID     | 仕訳帳明細行             | 修正 ILD GUID               | 請求書明細行トランザクション          |                          |
| 確認済みの請求書修正 | 古い ILD GUID             | 請求書明細行トランザクション          | 請求済み販売実績の逆仕訳の GUID | 実績                   |
| 古い IL GUID                  | 請求明細行             | 請求済み販売実績の逆仕訳の GUID | 実績                            |                          |
| 古い請求書の GUID             | 請求書                  | 請求済み販売実績の逆仕訳の GUID | 実績                            |                          |
| 時間エントリ レコードの GUID       | 時間入力               | 請求済み販売実績の逆仕訳の GUID | 実績                            |                          |
| 仕訳帳明細行レコードの GUID     | 仕訳帳明細行             | 請求済み販売実績の逆仕訳の GUID | 実績                            |                          |
| 古い ILD GUID                 | 請求書明細行トランザクション | 新しい未請求の販売実績の GUID    | 実績                            |                          |
| 古い IL GUID                  | 請求明細行             | 新しい未請求の販売実績の GUID    | 実績                            |                          |
| 古い請求書の GUID             | 請求書                  | 新しい未請求の販売実績の GUID    | 実績                            |                          |
| 時間エントリ レコードの GUID       | 時間入力               | 新しい未請求の販売実績の GUID    | 実績                            |                          |
| 仕訳帳明細行レコードの GUID     | 仕訳帳明細行             | 新しい未請求の販売実績の GUID    | 実績                            |                          |
| 修正 ILD GUID          | 請求書明細行トランザクション | 新しい未請求の販売実績の GUID    | 実績                            |                          |
| 修正 IL GUID           | 請求明細行             | 新しい未請求の販売実績の GUID    | 実績                            |                          |
| 請求書の修正の GUID      | 請求書                  | 新しい未請求の販売実績の GUID    | 実績                            |                          |


以下の図は、Project Operations の時間エントリを例に、様々なイベントにおいて実績とそのソースとの間に作成されるリンクを示しています。

> ![Project Operations で実績がソース レコードにどのようにリンクされているか。](media/TransactionOrigins.png)

[!INCLUDE[footer-include](../includes/footer-banner.md)]
