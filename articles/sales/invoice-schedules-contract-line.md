---
title: プロジェクトベースの契約品目で請求スケジュールを作成する
description: このトピックでは、契約品目で請求スケジュールとマイルストーンを作成する方法について説明します。
author: rumant
manager: Annbe
ms.date: 10/17/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 674f4ccced3d0e3178799f60d9f95a2ec27cd153
ms.sourcegitcommit: f6f86e80dfef15a7b5f9174b55dddf410522f7c8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/31/2020
ms.locfileid: "4180783"
---
# <a name="create-an-invoice-schedule-on-a-project-based-contract-line"></a><span data-ttu-id="b88c9-103">プロジェクトベースの契約品目で請求スケジュールを作成する</span><span class="sxs-lookup"><span data-stu-id="b88c9-103">Create an invoice schedule on a project-based contract line</span></span> 

<span data-ttu-id="b88c9-104">_**適用対象:** リソース/非在庫ベースのシナリオ向け Project Operations_</span><span class="sxs-lookup"><span data-stu-id="b88c9-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="b88c9-105">プロジェクトベースの契約品目に請求スケジュールを作成できます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-105">You can an invoice schedule to a  project-based contract line.</span></span> <span data-ttu-id="b88c9-106">請求は、契約が成立し、プロジェクト契約を作成した後にのみ許可されます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-106">Invoicing is only allowed after the contract is won to and you are creating a project contract.</span></span> <span data-ttu-id="b88c9-107">請求スケジュールを使用すると、プロジェクトベースの契約品目の下書き請求書を自動的に作成できます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-107">An invoice schedule allows draft invoices for a project-based contract line to be automatically created.</span></span> <span data-ttu-id="b88c9-108">ただし、手動で請求書を作成するだけの場合は、契約品目での請求書スケジュールの作成をスキップできます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-108">If however, you only manually create invoices, you can skip creating invoice schedules on contract lines.</span></span>

## <a name="create-a-time-and-material-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="b88c9-109">契約品目の時間と材料の請求スケジュールを作成する</span><span class="sxs-lookup"><span data-stu-id="b88c9-109">Create a time and material invoice schedule for a contract line</span></span>

<span data-ttu-id="b88c9-110">プロジェクトベースの契約品目に時間と材料の請求方法がある場合、日付ベースの請求スケジュールを作成できます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-110">When a project-based contract line has a time and material billing method, you can create a date-based invoice schedule.</span></span> <span data-ttu-id="b88c9-111">日付ベースの請求スケジュールを自動的に生成するには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-111">To automatically generate a date-based invoice schedule, complete the following steps.</span></span>

1. <span data-ttu-id="b88c9-112">**設定** > **請求頻度** に移動し、請求頻度を設定します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-112">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="b88c9-113">プロジェクト契約レコードに移動し、**概要** タブの **配送指定日** フィールドで、日付を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-113">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="b88c9-114">日付ベースの請求スケジュールを作成する **時間と材料** の契約品目を開きます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-114">Open the **Time and Material** contract line that you are making the date-based invoice schedule for.</span></span> 
4. <span data-ttu-id="b88c9-115">**請求スケジュール** タブで、請求開始日と請求頻度を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-115">On the **Invoice Schedule** tab, select the billing start date and the invoice frequency.</span></span>
5. <span data-ttu-id="b88c9-116">サブグリッドで **請求スケジュールの生成** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-116">On the subgrid, select **Generate Invoice Schedule**.</span></span> <span data-ttu-id="b88c9-117">請求スケジュールは、**請求書の実行日**、**トランザクション締め日**、**実行の状態** フィールドが次のように設定された状態で生成されます:</span><span class="sxs-lookup"><span data-stu-id="b88c9-117">The invoice schedule is generated with the **Invoice Run Date**, **Transaction Cutoff Date** and **Run Status** fields set as follows:</span></span>

    - <span data-ttu-id="b88c9-118">**請求書の実行日**: この日付は、請求頻度によって決まります。</span><span class="sxs-lookup"><span data-stu-id="b88c9-118">**Invoice Run Date**: This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="b88c9-119">**トランザクション締め日**: 請求書の実行日の前日。</span><span class="sxs-lookup"><span data-stu-id="b88c9-119">**Transaction Cutoff Date**: The day before the invoice run date.</span></span>
    - <span data-ttu-id="b88c9-120">**実行の状態**: 自動的に **未実行** に設定されます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-120">**Run Status**: Automatically set to **Not Run**.</span></span> <span data-ttu-id="b88c9-121">請求書自動作成ジョブが特定の請求書の実行日に実行されると、このフィールドは **実行成功** または **実行失敗** に更新されます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-121">When the automatic invoice creation job runs for a certain invoice run date, this field is updated to **Run Successful** or **Run Failed**.</span></span>

## <a name="create-a-fixed-price-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="b88c9-122">契約品目の固定価格の請求スケジュールを作成する</span><span class="sxs-lookup"><span data-stu-id="b88c9-122">Create a fixed price invoice schedule for a contract line</span></span>

<span data-ttu-id="b88c9-123">契約品目に固定請求方法がある場合、マイルストーンベースの請求スケジュールを作成できます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-123">When the contract line has a fixed billing method, you can create a milestone-based invoice schedule.</span></span> 

> [!NOTE]
> <span data-ttu-id="b88c9-124">契約品目にマップされたプロジェクトがない場合、マイルストーンを契約品目に作成することはできません。</span><span class="sxs-lookup"><span data-stu-id="b88c9-124">Milestones can't be created on a contract line if there is no project mapped to the contract line.</span></span>

<span data-ttu-id="b88c9-125">次の手順を実行して、カレンダー期間に均等に配分され、固定されたマイルストーンのセットに対してマイルストーンベースの請求スケジュールを生成します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-125">Complete the following steps to generate a milestone-based invoice schedule for a fixed set of equally distributed milestones for the calendar period.</span></span>

1. <span data-ttu-id="b88c9-126">**設定** > **請求頻度** に移動し、請求頻度を設定します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-126">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="b88c9-127">プロジェクト契約レコードに移動し、**概要** タブの **配送指定日** フィールドで、日付を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-127">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="b88c9-128">マイルストーン スケジュールを作成する **固定価格** の契約品目を開きます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-128">Open the **Fixed Price** contract line that you are creating the milestone schedule for.</span></span> <span data-ttu-id="b88c9-129">**請求マイルストーン** タブで、請求開始日と請求頻度を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-129">On the **Billing Milestones** tab, select the billing start date and the invoice frequency.</span></span> 
4. <span data-ttu-id="b88c9-130">サブグリッドで、**定期マイルストーンの生成** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-130">On the subgrid, select **Generate Periodic Milestones**.</span></span> <span data-ttu-id="b88c9-131">請求スケジュールは、**マイルストーンの名前**、**マイルストーンの日付**、**マイルストーンの金額** フィールドが次のように設定された状態で生成されます:</span><span class="sxs-lookup"><span data-stu-id="b88c9-131">The  invoice schedule is generated with the **Milestone Name**, **Milestone Date**, and **Milestone Amount** fields set as follows:</span></span>

    - <span data-ttu-id="b88c9-132">**マイルストーンの名前**: この日付は、請求頻度によって決まります。</span><span class="sxs-lookup"><span data-stu-id="b88c9-132">**Milestone Name**: This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="b88c9-133">**マイルストーンの日付**: この日付は、請求頻度によって決まります。</span><span class="sxs-lookup"><span data-stu-id="b88c9-133">**Milestone Date**: This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="b88c9-134">**マイルストーンの金額**: この金額は、契約品目の契約金額を、頻度、請求開始日、および配送指定日によって指定されたマイルストーンの数で割って計算されます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-134">**Milestone Amount**: This amount is calculated by dividing the contract amount on the contract line by the number of milestones as dictated by the frequency, billing start, and requested delivery dates.</span></span>

    <span data-ttu-id="b88c9-135">契約品目の **推定税額** フィールドに値がある場合、このフィールドは、定期的なマイルストーンを生成するとき、各マイルストーンにも均等に配分されます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-135">If the contract line has a value in the **Estimated Tax amount** field, then this field is also apportioned to each milestone equally when generating periodic milestones.</span></span>

<span data-ttu-id="b88c9-136">請求マイルストーンは、契約品目の契約金額と等しくなければなりません。</span><span class="sxs-lookup"><span data-stu-id="b88c9-136">Billing milestones should equal the contracted value of the contract line.</span></span> <span data-ttu-id="b88c9-137">そうでない場合は、**契約品目** ページにエラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-137">If they don't, you will receive an  error on the **Contract Line** page.</span></span> <span data-ttu-id="b88c9-138">マイルストーンを作成、編集、または削除して、請求マイルストーンが明細行の契約金額を合計していることを確認することで、エラーを修正できます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-138">You can fix the error by verifying that the billing milestones total the contracted value of the line by creating, editing, or deleting milestones.</span></span> <span data-ttu-id="b88c9-139">変更を加えたら、ページを更新してエラーを削除します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-139">After the changes are made, refresh the page to remove the error.</span></span>

### <a name="manually-create-milestones"></a><span data-ttu-id="b88c9-140">マイルストーンを手動で作成する</span><span class="sxs-lookup"><span data-stu-id="b88c9-140">Manually create milestones</span></span>

<span data-ttu-id="b88c9-141">定期的に分割されていない場合は、固定価格マイルストーンを手動で生成できます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-141">You can generate fixed price milestones manually when they are not periodically split.</span></span> <span data-ttu-id="b88c9-142">マイルストーンを手動で作成するには、以下の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="b88c9-142">Complete the following steps to manually create a milestone.</span></span>

1. <span data-ttu-id="b88c9-143">マイルストーンを作成する固定価格の契約品目を開き、**請求スケジュール** タブのサブグリッドで、**+ 新しい契約品目マイルストーンを作成** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-143">Open the fixed price contract line that you are creating a milestone for, and on the **Invoice Schedule** tab, on the subgrid, select **+ Create new Contract line milestone**.</span></span> 
2. <span data-ttu-id="b88c9-144">**マイルストーンの作成** ページで、次の表に基づいて必要な情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-144">On the **Milestone Creation** page, enter the required information based on the following table.</span></span>

| <span data-ttu-id="b88c9-145">フィールド</span><span class="sxs-lookup"><span data-stu-id="b88c9-145">Field</span></span> | <span data-ttu-id="b88c9-146">場所</span><span class="sxs-lookup"><span data-stu-id="b88c9-146">Location</span></span> | <span data-ttu-id="b88c9-147">内容</span><span class="sxs-lookup"><span data-stu-id="b88c9-147">Description</span></span> | <span data-ttu-id="b88c9-148">下位への影響</span><span class="sxs-lookup"><span data-stu-id="b88c9-148">Downstream impact</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="b88c9-149">マイルストーンの名前</span><span class="sxs-lookup"><span data-stu-id="b88c9-149">Milestone Name</span></span> | <span data-ttu-id="b88c9-150">簡易作成</span><span class="sxs-lookup"><span data-stu-id="b88c9-150">Quick Create</span></span> | <span data-ttu-id="b88c9-151">マイルストーンの名前のテキスト フィールド。</span><span class="sxs-lookup"><span data-stu-id="b88c9-151">Text field for the name of the milestone.</span></span> | <span data-ttu-id="b88c9-152">これは、プロジェクト契約品目のマイルストーンと請求書に引き継がれます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-152">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="b88c9-153">プロジェクト タスク</span><span class="sxs-lookup"><span data-stu-id="b88c9-153">Project Task</span></span> | <span data-ttu-id="b88c9-154">簡易作成</span><span class="sxs-lookup"><span data-stu-id="b88c9-154">Quick Create</span></span> | <span data-ttu-id="b88c9-155">マイルストーンがプロジェクト タスクに関連付けられている場合は、この参照を使用してカスタム ロジックを追加し、タスクの状態に基づいてマイルストーンの状態を設定します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-155">If the milestone is tied to project task, use this reference to add custom logic to set the milestone status based on the task status.</span></span> | <span data-ttu-id="b88c9-156">アプリケーションでは、タスクへのこの参照の下位への影響はありません。</span><span class="sxs-lookup"><span data-stu-id="b88c9-156">The application, doesn't have any downstream impact of this reference to a task.</span></span> |
| <span data-ttu-id="b88c9-157">マイルストーンの日付</span><span class="sxs-lookup"><span data-stu-id="b88c9-157">Milestone Date</span></span> | <span data-ttu-id="b88c9-158">簡易作成</span><span class="sxs-lookup"><span data-stu-id="b88c9-158">Quick Create</span></span> | <span data-ttu-id="b88c9-159">自動請求書作成プロセスがこのマイルストーンの状態を検索して、請求の対象と見なす日付を設定します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-159">Set the date on which the automatic invoice creation process should look for the status of this milestone to consider it for invoicing.</span></span> | <span data-ttu-id="b88c9-160">これは、プロジェクト契約品目のマイルストーンと請求書に引き継がれます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-160">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="b88c9-161">請求書の状態</span><span class="sxs-lookup"><span data-stu-id="b88c9-161">Invoice Status</span></span> | <span data-ttu-id="b88c9-162">簡易作成</span><span class="sxs-lookup"><span data-stu-id="b88c9-162">Quick Create</span></span> | <span data-ttu-id="b88c9-163">マイルストーンが作成されると、この状態は常に **請求準備未完了** または **開始前** に設定されます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-163">When a milestone is created, this status is always set to **Not Ready for Invoicing** or **Not Started**.</span></span> | <span data-ttu-id="b88c9-164">これは、プロジェクト契約品目のマイルストーンと請求書に引き継がれます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-164">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="b88c9-165">明細行の金額</span><span class="sxs-lookup"><span data-stu-id="b88c9-165">Line Amount</span></span> | <span data-ttu-id="b88c9-166">簡易作成</span><span class="sxs-lookup"><span data-stu-id="b88c9-166">Quick Create</span></span> | <span data-ttu-id="b88c9-167">顧客に請求されるマイルストーンの金額または値。</span><span class="sxs-lookup"><span data-stu-id="b88c9-167">Amount or value of the milestone that will be invoiced to the customer.</span></span> | <span data-ttu-id="b88c9-168">これは、プロジェクト契約品目のマイルストーンと請求書に引き継がれます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-168">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="b88c9-169">税額</span><span class="sxs-lookup"><span data-stu-id="b88c9-169">Tax</span></span> | <span data-ttu-id="b88c9-170">簡易作成</span><span class="sxs-lookup"><span data-stu-id="b88c9-170">Quick Create</span></span> | <span data-ttu-id="b88c9-171">マイルストーンに適用される税額。</span><span class="sxs-lookup"><span data-stu-id="b88c9-171">The tax amount applied on the milestone.</span></span> | <span data-ttu-id="b88c9-172">これは、プロジェクト契約品目のマイルストーンと請求書に引き継がれます。</span><span class="sxs-lookup"><span data-stu-id="b88c9-172">This is carried over to the project contract line milestone and the invoice.</span></span> |

3. <span data-ttu-id="b88c9-173">**保存して閉じる** を選択します。</span><span class="sxs-lookup"><span data-stu-id="b88c9-173">Select **Save and Close**.</span></span>
